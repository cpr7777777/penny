<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸ”® Fortune Lottery</title>
<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    background: #0b0c27;
    position: relative;
    min-height: 100vh;
  }

  body::before {
    content: '';
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: transparent url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg"><circle cx="2" cy="2" r="1" fill="white"/><circle cx="50" cy="80" r="0.5" fill="white"/><circle cx="100" cy="20" r="1" fill="white"/><circle cx="200" cy="60" r="0.8" fill="white"/><circle cx="300" cy="150" r="0.6" fill="white"/><circle cx="400" cy="30" r="0.7" fill="white"/><circle cx="500" cy="200" r="0.5" fill="white"/><circle cx="600" cy="120" r="0.6" fill="white"/></svg>') repeat;
    animation: moveStars 30s linear infinite;
    z-index: -1;
  }

  @keyframes moveStars {
    from {background-position: 0 0;}
    to {background-position: -1000px 1000px;}
  }

  #donate-top {
    position: sticky;
    top: 0;
    background: #0b0c27;
    padding: 20px 0;
    z-index: 1000;
  }

  #donate-top button {
    padding: 10px 20px;
    font-size: 1.2rem;
    border-radius: 5px;
    background: #ffd700;
    border: none;
    cursor: pointer;
  }

  h1 {
    margin: 20px 0 30px 0;
    color: #fff;
  }

  #card-img {
    max-width: 200px;
    margin-top: 20px;
    display: block;
    border-radius: 8px;
    box-shadow: 0 0 10px #000;
    opacity: 0;
    transition: opacity 1s ease;
    margin-left: auto;
    margin-right: auto;
  }

  #fortune-text, #lottery-numbers {
    margin-top: 10px;
    font-size: 1.1rem;
    color: #fff;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
    text-align: center;
    line-height: 1.4;
  }

  .sparkle {
    position: absolute;
    width: 5px;
    height: 5px;
    background: white;
    border-radius: 50%;
    opacity: 0;
  }

  #article {
    max-width: 700px;
    margin: 40px auto;
    padding: 20px;
    background: rgba(255,255,255,0.05);
    border-radius: 10px;
    color: #fff;
    text-align: left;
  }

  #quiz-container p,
  #quiz-container input,
  #quiz-container button {
    color: #fff;
  }

  #quiz-container button {
    padding: 12px 20px;
    font-size: 16px;
    margin: 5px;
    background: #333;
    border: 1px solid #fff;
    border-radius: 5px;
    cursor: pointer;
  }

  #quiz-container input[type="text"] {
    font-size: 16px;
    padding: 6px;
    margin-top: 5px;
    margin-bottom: 10px;
    width: 250px;
    text-align: center;
    background: #0b0c27;
    border: 1px solid #fff;
    border-radius: 5px;
    color: #fff;
  }

  #fortune-output {
    color: #fff;
    font-weight: bold;
    font-size: 18px;
    margin-top: 15px;
  }
</style>
</head>
<body>

<div id="donate-top">
  <a href="https://www.paypal.me/pennyBagsTrain" target="_blank">
    <button> Tip's for Luck</button>
  </a>
</div>

<h1>ðŸŽ´ Gypsy Fortune ðŸŽ´</h1>

<img id="card-img" src="" alt="Your card will appear here">
<p id="fortune-text"></p>
<p id="lottery-numbers"></p>

<div id="fortune-section" style="text-align:center; margin:20px 0;">
  <button id="startFortune" style="padding:15px 25px; font-size:18px;">$1 Fortune</button>
</div>

<div id="quiz-container" style="display:none; text-align:center; margin-top:10px;">
  <div id="question-area"></div>
  <button id="next-question" style="padding:12px 20px; font-size:16px; margin-top:10px; display:none;">Next</button>
</div>

<div id="fortune-output" style="text-align:center;"></div>
<div id="article"></div>

<!-- ðŸŽµ BACKGROUND MUSIC (ADDED ONLY) -->
<audio id="bg-music" loop>
  <source src="magic.mp3" type="audio/mpeg">
</audio>

<script>
// ðŸŽµ MUSIC START (ADDED ONLY)
let musicStarted = false;
document.addEventListener('click', () => {
  if (!musicStarted) {
    const music = document.getElementById('bg-music');
    music.volume = 0.3;
    music.play().catch(()=>{});
    musicStarted = true;
  }
});

// Card functionality
const cards = [
  "cards/the_fool.png","cards/the_magician.png","cards/the_high_priestess.png","cards/the_empress.png","cards/the_emperor.png",
  "cards/the_hierophant.png","cards/the_lovers.png","cards/the_chariot.png","cards/strength.png","cards/the_hermit.png",
  "cards/wheel_of_fortune.png","cards/justice.png","cards/the_hanged_man.png","cards/death.png","cards/temperance.png",
  "cards/the_devil.png","cards/the_tower.png","cards/the_star.png","cards/the_moon.png","cards/the_sun.png",
  "cards/judgement.png","cards/the_world.png"
];

const cardMeanings = {
  "the_fool.png":"New beginnings, innocence, adventure.",
  "the_magician.png":"You have the power to manifest your desires.",
  "the_high_priestess.png":"Trust your intuition and inner wisdom.",
  "the_empress.png":"Abundance, nurturing, and growth.",
  "the_emperor.png":"Structure, authority, and control.",
  "the_hierophant.png":"Tradition and spiritual guidance.",
  "the_lovers.png":"Choices in love and values.",
  "the_chariot.png":"Victory through determination.",
  "strength.png":"Courage and gentle power.",
  "the_hermit.png":"Introspection and wisdom.",
  "wheel_of_fortune.png":"Cycles of fate and luck.",
  "justice.png":"Fairness and truth.",
  "the_hanged_man.png":"New perspective through sacrifice.",
  "death.png":"Transformation and rebirth.",
  "temperance.png":"Balance and harmony.",
  "the_devil.png":"Beware unhealthy attachments.",
  "the_tower.png":"Sudden change brings clarity.",
  "the_star.png":"Hope and renewal.",
  "the_moon.png":"Illusion and intuition.",
  "the_sun.png":"Joy and success.",
  "judgement.png":"Awakening and reflection.",
  "the_world.png":"Completion and fulfillment."
};

function lottery(){
  let nums=[];
  for(let i=0;i<6;i++) nums.push(Math.floor(Math.random()*49)+1);
  return nums.join(', ');
}

function sparkle(){
  for(let i=0;i<15;i++){
    const s=document.createElement('div');
    s.className='sparkle';
    s.style.left=(Math.random()*window.innerWidth)+'px';
    s.style.top=(Math.random()*window.innerHeight)+'px';
    document.body.appendChild(s);
    setTimeout(()=>{s.remove()},1000);
  }
}

document.body.addEventListener('click',()=>{
  const card=cards[Math.floor(Math.random()*cards.length)];
  const img=document.getElementById('card-img');
  img.style.opacity=0;
  setTimeout(()=>{img.src=card;img.style.opacity=1},300);
  document.getElementById('fortune-text').innerText=
    cardMeanings[card.split('/').pop()]||"A mysterious fate awaits you.";
  document.getElementById('lottery-numbers').innerText="LUCKY Numbers: "+lottery();
  sparkle();
});

// $1 Fortune Quiz
const questions=[
  {q:"Did you go to the park in the last week?",type:"yesno"},
  {q:"Are you living alone?",type:"yesno"},
  {q:"Did you try a new food recently?",type:"yesno"},
  {q:"Did you exercise in the past three days?",type:"yesno"},
  {q:"Are you currently working on a creative project?",type:"yesno"},
  {q:"What is the last book you read?",type:"text"},
  {q:"What is your favorite color?",type:"text"}
];

const fortunes=[
  "Adventure awaits.",
  "Love is near.",
  "Luck is on your side.",
  "A mystery unfolds.",
  "Your creativity shines.",
  "Trust your intuition.",
  "A surprise opportunity appears."
];

let paid=false,currentQuestion=0,answers=[];

document.getElementById("startFortune").onclick=()=>{
  window.open("https://www.paypal.me/pennyBagsTrain");
  setTimeout(()=>{
    paid=true;
    document.getElementById("quiz-container").style.display="block";
    showQuestion();
  },30000);
};

function showQuestion(){
  const area=document.getElementById("question-area");
  area.innerHTML="";
  const q=questions[Math.floor(Math.random()*questions.length)];
  const p=document.createElement("p");
  p.textContent=q.q;
  area.appendChild(p);

  if(q.type==="yesno"){
    ["Yes","No"].forEach(v=>{
      const b=document.createElement("button");
      b.textContent=v;
      b.onclick=()=>{answers.push(1);nextQuestion();};
      area.appendChild(b);
    });
  }else{
    const i=document.createElement("input");
    const b=document.createElement("button");
    b.textContent="Submit";
    b.onclick=()=>{answers.push(i.value.length||1);nextQuestion();};
    area.appendChild(i);
    area.appendChild(b);
  }
}

function nextQuestion(){
  currentQuestion++;
  if(currentQuestion<7) showQuestion();
  else{
    document.getElementById("fortune-output").textContent=
      fortunes[Math.floor(Math.random()*fortunes.length)];
    document.getElementById("quiz-container").style.display="none";
    currentQuestion=0;
    answers=[];
  }
}

fetch('article.html')
  .then(r=>r.text())
  .then(t=>document.getElementById('article').innerHTML=t);
</script>
</body>
</html>
